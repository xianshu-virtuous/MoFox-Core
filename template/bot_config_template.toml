[inner]
version = "7.9.5"

#----ä»¥ä¸‹æ˜¯ç»™å¼€å‘äººå‘˜é˜…è¯»çš„ï¼Œå¦‚æœä½ åªæ˜¯éƒ¨ç½²äº†MoFox-Botï¼Œä¸éœ€è¦é˜…è¯»----
#å¦‚æœä½ æƒ³è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œè¯·é€’å¢versionçš„å€¼
#å¦‚æœæ–°å¢é¡¹ç›®ï¼Œè¯·é˜…è¯»src/config/official_configs.pyä¸­çš„è¯´æ˜
#
# ç‰ˆæœ¬æ ¼å¼ï¼šä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å·ï¼Œç‰ˆæœ¬å·é€’å¢è§„åˆ™å¦‚ä¸‹ï¼š
#     ä¸»ç‰ˆæœ¬å·ï¼šMMCç‰ˆæœ¬æ›´æ–°
#     æ¬¡ç‰ˆæœ¬å·ï¼šé…ç½®æ–‡ä»¶å†…å®¹å¤§æ›´æ–°
#     ä¿®è®¢å·ï¼šé…ç½®æ–‡ä»¶å†…å®¹å°æ›´æ–°
#----ä»¥ä¸Šæ˜¯ç»™å¼€å‘äººå‘˜é˜…è¯»çš„ï¼Œå¦‚æœä½ åªæ˜¯éƒ¨ç½²äº†MoFox-Botï¼Œä¸éœ€è¦é˜…è¯»----

[database]# æ•°æ®åº“é…ç½®
database_type = "sqlite" # æ•°æ®åº“ç±»å‹ï¼Œæ”¯æŒ "sqlite"ã€"mysql" æˆ– "postgresql"

# SQLite é…ç½®ï¼ˆå½“ database_type = "sqlite" æ—¶ä½¿ç”¨ï¼‰
sqlite_path = "data/MaiBot.db" # SQLiteæ•°æ®åº“æ–‡ä»¶è·¯å¾„

# MySQL é…ç½®ï¼ˆå½“ database_type = "mysql" æ—¶ä½¿ç”¨ï¼‰
mysql_host = "localhost" # MySQLæœåŠ¡å™¨åœ°å€
mysql_port = 3306 # MySQLæœåŠ¡å™¨ç«¯å£
mysql_database = "maibot" # MySQLæ•°æ®åº“å
mysql_user = "root" # MySQLç”¨æˆ·å
mysql_password = "" # MySQLå¯†ç 
mysql_charset = "utf8mb4" # MySQLå­—ç¬¦é›†
mysql_unix_socket = "" # MySQL Unixå¥—æ¥å­—è·¯å¾„ï¼ˆå¯é€‰ï¼Œç”¨äºæœ¬åœ°è¿æ¥ï¼Œä¼˜å…ˆäºhost/portï¼‰

# MySQL SSL é…ç½®
mysql_ssl_mode = "DISABLED" # SSLæ¨¡å¼: DISABLED, PREFERRED, REQUIRED, VERIFY_CA, VERIFY_IDENTITY
mysql_ssl_ca = "" # SSL CAè¯ä¹¦è·¯å¾„
mysql_ssl_cert = "" # SSLå®¢æˆ·ç«¯è¯ä¹¦è·¯å¾„
mysql_ssl_key = "" # SSLå®¢æˆ·ç«¯å¯†é’¥è·¯å¾„

# MySQL é«˜çº§é…ç½®
mysql_autocommit = true # è‡ªåŠ¨æäº¤äº‹åŠ¡
mysql_sql_mode = "TRADITIONAL" # SQLæ¨¡å¼

# PostgreSQL é…ç½®ï¼ˆå½“ database_type = "postgresql" æ—¶ä½¿ç”¨ï¼‰
postgresql_host = "localhost" # PostgreSQLæœåŠ¡å™¨åœ°å€
postgresql_port = 5432 # PostgreSQLæœåŠ¡å™¨ç«¯å£
postgresql_database = "maibot" # PostgreSQLæ•°æ®åº“å
postgresql_user = "postgres" # PostgreSQLç”¨æˆ·å
postgresql_password = "" # PostgreSQLå¯†ç 
postgresql_schema = "public" # PostgreSQLæ¨¡å¼åï¼ˆschemaï¼‰

# PostgreSQL SSL é…ç½®
postgresql_ssl_mode = "prefer" # SSLæ¨¡å¼: disable, allow, prefer, require, verify-ca, verify-full
postgresql_ssl_ca = "" # SSL CAè¯ä¹¦è·¯å¾„
postgresql_ssl_cert = "" # SSLå®¢æˆ·ç«¯è¯ä¹¦è·¯å¾„
postgresql_ssl_key = "" # SSLå®¢æˆ·ç«¯å¯†é’¥è·¯å¾„

# è¿æ¥æ± é…ç½®ï¼ˆMySQL å’Œ PostgreSQL æœ‰æ•ˆï¼‰
connection_pool_size = 10 # è¿æ¥æ± å¤§å°
connection_timeout = 10 # è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰

# æ‰¹é‡åŠ¨ä½œè®°å½•å­˜å‚¨é…ç½®
batch_action_storage_enabled = true # æ˜¯å¦å¯ç”¨æ‰¹é‡ä¿å­˜åŠ¨ä½œè®°å½•ï¼ˆå¼€å¯åå°†å¤šä¸ªåŠ¨ä½œä¸€æ¬¡æ€§å†™å…¥æ•°æ®åº“ï¼Œæå‡æ€§èƒ½ï¼‰

# æ•°æ®åº“ç¼“å­˜é…ç½®ï¼ˆé˜²æ­¢å†…å­˜æº¢å‡ºï¼‰
enable_database_cache = true # æ˜¯å¦å¯ç”¨æ•°æ®åº“æŸ¥è¯¢ç¼“å­˜ç³»ç»Ÿ
cache_l1_max_size = 1000 # L1ç¼“å­˜æœ€å¤§æ¡ç›®æ•°ï¼ˆçƒ­æ•°æ®ï¼Œå†…å­˜å ç”¨çº¦1-5MBï¼‰
cache_l1_ttl = 300 # L1ç¼“å­˜ç”Ÿå­˜æ—¶é—´ï¼ˆç§’ï¼‰
cache_l2_max_size = 10000 # L2ç¼“å­˜æœ€å¤§æ¡ç›®æ•°ï¼ˆæ¸©æ•°æ®ï¼Œå†…å­˜å ç”¨çº¦10-50MBï¼‰
cache_l2_ttl = 1800 # L2ç¼“å­˜ç”Ÿå­˜æ—¶é—´ï¼ˆç§’ï¼‰
cache_cleanup_interval = 60 # ç¼“å­˜æ¸…ç†ä»»åŠ¡æ‰§è¡Œé—´éš”ï¼ˆç§’ï¼‰
cache_max_memory_mb = 10 # ç¼“å­˜æœ€å¤§å†…å­˜å ç”¨ï¼ˆMBï¼‰ï¼Œè¶…è¿‡æ­¤å€¼å°†è§¦å‘å¼ºåˆ¶æ¸…ç†
cache_max_item_size_mb = 1 # å•ä¸ªç¼“å­˜æ¡ç›®æœ€å¤§å¤§å°ï¼ˆMBï¼‰ï¼Œè¶…è¿‡æ­¤å€¼å°†ä¸ç¼“å­˜

[permission] # æƒé™ç³»ç»Ÿé…ç½®
# Masterç”¨æˆ·é…ç½®ï¼ˆæ‹¥æœ‰æœ€é«˜æƒé™ï¼Œæ— è§†æ‰€æœ‰æƒé™èŠ‚ç‚¹ï¼‰
# æ ¼å¼ï¼š[[platform, user_id], ...]
# ç¤ºä¾‹ï¼š[["qq", "123456"], ["telegram", "user789"]]
master_users = []# ["qq", "123456789"],  # ç¤ºä¾‹ï¼šQQå¹³å°çš„Masterç”¨æˆ·

# ==================== æ’ä»¶HTTPç«¯ç‚¹ç³»ç»Ÿé…ç½® ====================
[plugin_http_system]
# æ€»å¼€å…³ï¼Œç”¨äºå¯ç”¨æˆ–ç¦ç”¨æ‰€æœ‰æ’ä»¶çš„HTTPç«¯ç‚¹åŠŸèƒ½
enable_plugin_http_endpoints = true

# ==================== å®‰å…¨ç›¸å…³é…ç½® ====================
# --- æ’ä»¶APIé€Ÿç‡é™åˆ¶ ---
# æ˜¯å¦ä¸ºæ’ä»¶æš´éœ²çš„APIå¯ç”¨å…¨å±€é€Ÿç‡é™åˆ¶
plugin_api_rate_limit_enable = true
# é»˜è®¤çš„é€Ÿç‡é™åˆ¶ç­–ç•¥ (æ ¼å¼: "æ¬¡æ•°/æ—¶é—´å•ä½")
# å¯ç”¨å•ä½: second, minute, hour, day
plugin_api_rate_limit_default = "100/minute"

# --- æ’ä»¶APIå¯†é’¥è®¤è¯ ---
# ç”¨äºè®¿é—®éœ€è¦è®¤è¯çš„æ’ä»¶APIçš„æœ‰æ•ˆå¯†é’¥åˆ—è¡¨
# å¦‚æœåˆ—è¡¨ä¸ºç©ºï¼Œåˆ™æ‰€æœ‰éœ€è¦è®¤è¯çš„APIéƒ½å°†æ— æ³•è®¿é—®
# ä¾‹å¦‚: ["your-secret-key-1", "your-secret-key-2"]
plugin_api_valid_keys = []

[permission.master_prompt] # ä¸»äººèº«ä»½æç¤ºè¯é…ç½®
enable = false # æ˜¯å¦å¯ç”¨ä¸»äºº/éä¸»äººæç¤ºæ³¨å…¥
master_hint = "ä½ æ­£åœ¨ä¸è‡ªå·±çš„ä¸»äººäº¤æµï¼Œæ³¨æ„å±•ç°äº²åˆ‡ä¸å°Šé‡ã€‚" # ä¸»äººæç¤ºè¯
non_master_hint = "å¯¹æ–¹å¹¶éä½ çš„ä¸»äººï¼Œè¯·ä¿æŒå¸¸è§„äº’åŠ¨é£æ ¼ã€‚" # éä¸»äººæç¤ºè¯

[bot]
platform = "qq"
qq_account = 1145141919810 # MoFox-Botçš„QQè´¦å·
nickname = "å¢¨ç‹" # MoFox-Botçš„æ˜µç§°
alias_names = ["ç‹ç‹", "å¢¨å¢¨"] # MoFox-Botçš„åˆ«å

[command]
command_prefixes = ['/']

[personality]
# å»ºè®®50å­—ä»¥å†…ï¼Œæè¿°äººæ ¼çš„æ ¸å¿ƒç‰¹è´¨
personality_core = "æ˜¯ä¸€ä¸ªç§¯æå‘ä¸Šçš„å¥³å¤§å­¦ç”Ÿ" 
# äººæ ¼çš„ç»†èŠ‚ï¼Œæè¿°äººæ ¼çš„ä¸€äº›ä¾§é¢
personality_side = "ç”¨ä¸€å¥è¯æˆ–å‡ å¥è¯æè¿°äººæ ¼çš„ä¾§é¢ç‰¹è´¨"
#ã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãŒãªã„ ç”Ÿã¾ã‚Œãªã„ã‚‰ã‚‰ã‚‰ã‚‰
# å¯ä»¥æè¿°å¤–è²Œï¼Œæ€§åˆ«ï¼Œèº«é«˜ï¼ŒèŒä¸šï¼Œå±æ€§ç­‰ç­‰æè¿°
identity = "å¹´é¾„ä¸º19å²,æ˜¯å¥³å­©å­,èº«é«˜ä¸º160cm,æœ‰é»‘è‰²çš„çŸ­å‘"

# æ­¤å¤„ç”¨äºå¡«å†™è¯¦ç»†çš„ä¸–ç•Œè§‚ã€èƒŒæ™¯æ•…äº‹ã€å¤æ‚äººé™…å…³ç³»ç­‰ã€‚
# è¿™éƒ¨åˆ†å†…å®¹å°†ä½œä¸ºBotçš„â€œèƒŒæ™¯çŸ¥è¯†â€ï¼ŒBotè¢«æŒ‡å¯¼ä¸åº”åœ¨å¯¹è¯ä¸­ä¸»åŠ¨æˆ–é¢‘ç¹åœ°å¤è¿°è¿™äº›è®¾å®šã€‚
background_story = ""

# æè¿°MoFox-Botè¯´è¯çš„è¡¨è¾¾é£æ ¼ï¼Œè¡¨è¾¾ä¹ æƒ¯ï¼Œå¦‚è¦ä¿®æ”¹ï¼Œå¯ä»¥é…Œæƒ…æ–°å¢å†…å®¹
reply_style = "å›å¤å¯ä»¥ç®€çŸ­ä¸€äº›ã€‚å¯ä»¥å‚è€ƒè´´å§ï¼ŒçŸ¥ä¹å’Œå¾®åšçš„å›å¤é£æ ¼ï¼Œå›å¤ä¸è¦æµ®å¤¸ï¼Œä¸è¦ç”¨å¤¸å¼ ä¿®è¾ï¼Œå¹³æ·¡ä¸€äº›ã€‚"

# äº’åŠ¨è§„åˆ™ (Botåœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½å¿…é¡»éµå®ˆçš„åŸåˆ™)
# ä½ å¯ä»¥åœ¨è¿™é‡Œå®šä¹‰Botåœ¨äº’åŠ¨ä¸­çš„è¡Œä¸ºå‡†åˆ™ã€‚
safety_guidelines = [
    "æ‹’ç»ä»»ä½•åŒ…å«éªšæ‰°ã€å†’çŠ¯ã€æš´åŠ›ã€è‰²æƒ…æˆ–å±é™©å†…å®¹çš„è¯·æ±‚ã€‚",
    "åœ¨æ‹’ç»æ—¶ï¼Œè¯·ä½¿ç”¨ç¬¦åˆä½ äººè®¾çš„ã€åšå®šçš„è¯­æ°”ã€‚",
    "ä¸è¦æ‰§è¡Œä»»ä½•å¯èƒ½è¢«ç”¨äºæ¶æ„ç›®çš„çš„æŒ‡ä»¤ã€‚"
]

compress_personality = false # æ˜¯å¦å‹ç¼©äººæ ¼ï¼Œå‹ç¼©åä¼šç²¾ç®€äººæ ¼ä¿¡æ¯ï¼ŒèŠ‚çœtokenæ¶ˆè€—å¹¶æé«˜å›å¤æ€§èƒ½ï¼Œä½†æ˜¯ä¼šä¸¢å¤±ä¸€äº›ä¿¡æ¯ï¼Œå¦‚æœäººè®¾ä¸é•¿ï¼Œå¯ä»¥å…³é—­
compress_identity = true # æ˜¯å¦å‹ç¼©èº«ä»½ï¼Œå‹ç¼©åä¼šç²¾ç®€èº«ä»½ä¿¡æ¯ï¼ŒèŠ‚çœtokenæ¶ˆè€—å¹¶æé«˜å›å¤æ€§èƒ½ï¼Œä½†æ˜¯ä¼šä¸¢å¤±ä¸€äº›ä¿¡æ¯ï¼Œå¦‚æœä¸é•¿ï¼Œå¯ä»¥å…³é—­

[expression]
# è¡¨è¾¾å­¦ä¹ é…ç½®
# mode: è¡¨è¾¾æ–¹å¼æ¨¡å¼ï¼Œå¯é€‰ï¼š
#   - "classic": ç»å…¸æ¨¡å¼ï¼ŒéšæœºæŠ½æ · + LLMé€‰æ‹©
#   - "exp_model": è¡¨è¾¾æ¨¡å‹æ¨¡å¼ï¼Œä½¿ç”¨æœºå™¨å­¦ä¹ æ¨¡å‹é¢„æµ‹æœ€åˆé€‚çš„è¡¨è¾¾
mode = "classic"

# expiration_days: è¡¨è¾¾æ–¹å¼è¿‡æœŸå¤©æ•°ï¼Œè¶…è¿‡æ­¤å¤©æ•°æœªæ¿€æ´»çš„è¡¨è¾¾æ–¹å¼å°†è¢«æ¸…ç†
expiration_days = 1

# rulesæ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªå­¦ä¹ è§„åˆ™
# chat_stream_id: èŠå¤©æµIDï¼Œæ ¼å¼ä¸º "platform:id:type"ï¼Œä¾‹å¦‚ "qq:123456:private"ã€‚ç©ºå­—ç¬¦ä¸²""è¡¨ç¤ºå…¨å±€é…ç½®
# use_expression: æ˜¯å¦ä½¿ç”¨å­¦åˆ°çš„è¡¨è¾¾ (true/false)
# learn_expression: æ˜¯å¦å­¦ä¹ æ–°çš„è¡¨è¾¾ (true/false)
# learning_strength: å­¦ä¹ å¼ºåº¦ï¼ˆæµ®ç‚¹æ•°ï¼‰ï¼Œå½±å“å­¦ä¹ é¢‘ç‡
# group: è¡¨è¾¾å…±äº«ç»„çš„åç§°ï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼Œç›¸åŒç»„çš„èŠå¤©ä¼šå…±äº«å­¦ä¹ åˆ°çš„è¡¨è¾¾æ–¹å¼
[[expression.rules]]
chat_stream_id = ""
use_expression = true
learn_expression = true
learning_strength = 1.0

[[expression.rules]]
chat_stream_id = "qq:1919810:group"
group = "group_A"
use_expression = true
learn_expression = true
learning_strength = 1.5

[[expression.rules]]
chat_stream_id = "qq:114514:private"
group = "group_A"
use_expression = true
learn_expression = false
learning_strength = 0.5

[chat] #MoFox-Botçš„èŠå¤©é€šç”¨è®¾ç½®
allow_reply_self = false # æ˜¯å¦å…è®¸å›å¤è‡ªå·±è¯´çš„è¯
private_chat_inevitable_reply = false # ç§èŠå¿…ç„¶å›å¤

max_context_size = 25 # ä¸Šä¸‹æ–‡é•¿åº¦
thinking_timeout = 60 # MoFox-Botä¸€æ¬¡å›å¤æœ€é•¿æ€è€ƒè§„åˆ’æ—¶é—´ï¼Œè¶…è¿‡è¿™ä¸ªæ—¶é—´çš„æ€è€ƒä¼šæ”¾å¼ƒï¼ˆå¾€å¾€æ˜¯apiååº”å¤ªæ…¢ï¼‰

# æ¶ˆæ¯ç¼“å­˜ç³»ç»Ÿé…ç½®
enable_message_cache = false # æ˜¯å¦å¯ç”¨æ¶ˆæ¯ç¼“å­˜ç³»ç»Ÿï¼ˆå¯ç”¨åï¼Œå¤„ç†ä¸­æ”¶åˆ°çš„æ¶ˆæ¯ä¼šè¢«ç¼“å­˜ï¼Œå¤„ç†å®Œæˆåç»Ÿä¸€åˆ·æ–°åˆ°æœªè¯»åˆ—è¡¨ï¼‰

# æ¶ˆæ¯æ‰“æ–­ç³»ç»Ÿé…ç½® - åæ¯”ä¾‹å‡½æ•°æ¦‚ç‡æ¨¡å‹
interruption_enabled = false # æ˜¯å¦å¯ç”¨æ¶ˆæ¯æ‰“æ–­ç³»ç»Ÿ
allow_reply_interruption = false # æ˜¯å¦å…è®¸åœ¨æ­£åœ¨ç”Ÿæˆå›å¤æ—¶æ‰“æ–­ï¼ˆtrue=å…è®¸æ‰“æ–­å›å¤ï¼Œfalse=å›å¤æœŸé—´ä¸å…è®¸æ‰“æ–­ï¼‰
interruption_max_limit = 5 # æ¯ä¸ªèŠå¤©æµçš„æœ€å¤§æ‰“æ–­æ¬¡æ•°
interruption_min_probability = 0.05 # æœ€ä½æ‰“æ–­æ¦‚ç‡ï¼ˆåæ¯”ä¾‹å‡½æ•°è¶‹è¿‘çš„ä¸‹é™å€¼ï¼‰

# åŠ¨æ€æ¶ˆæ¯åˆ†å‘ç³»ç»Ÿé…ç½®
dynamic_distribution_enabled = true # æ˜¯å¦å¯ç”¨åŠ¨æ€æ¶ˆæ¯åˆ†å‘å‘¨æœŸè°ƒæ•´
dynamic_distribution_base_interval = 5.0 # åŸºç¡€åˆ†å‘é—´éš”ï¼ˆç§’ï¼‰
dynamic_distribution_min_interval = 1.0 # æœ€å°åˆ†å‘é—´éš”ï¼ˆç§’ï¼‰
dynamic_distribution_max_interval = 30.0 # æœ€å¤§åˆ†å‘é—´éš”ï¼ˆç§’ï¼‰
dynamic_distribution_jitter_factor = 0.2 # åˆ†å‘é—´éš”éšæœºæ‰°åŠ¨å› å­
max_concurrent_distributions = 10 # æœ€å¤§å¹¶å‘å¤„ç†çš„æ¶ˆæ¯æµæ•°é‡ï¼Œå¯ä»¥æ ¹æ®APIæ€§èƒ½å’ŒæœåŠ¡å™¨è´Ÿè½½è°ƒæ•´
enable_decision_history = true # æ˜¯å¦å¯ç”¨å†³ç­–å†å²åŠŸèƒ½
decision_history_length = 3 # å†³ç­–å†å²è®°å½•çš„é•¿åº¦ï¼Œç”¨äºå¢å¼ºè¯­è¨€æ¨¡å‹çš„ä¸Šä¸‹æ–‡è¿ç»­æ€§

# å¤šé‡å›å¤æ§åˆ¶é…ç½®
enable_multiple_replies = false # æ˜¯å¦å…è®¸å¤šé‡å›å¤ï¼ˆTrue=å…è®¸å¤šä¸ªå›å¤åŠ¨ä½œï¼ŒFalse=åªä¿ç•™ä¸€ä¸ªå›å¤åŠ¨ä½œï¼‰
multiple_replies_strategy = "keep_first" # å¤šé‡å›å¤å¤„ç†ç­–ç•¥ï¼škeep_first(ä¿ç•™ç¬¬ä¸€ä¸ª)ï¼Œkeep_best(ä¿ç•™æœ€ä½³)ï¼Œkeep_last(ä¿ç•™æœ€åä¸€ä¸ª)

# è¡¨æƒ…åŒ…å›å¤é…ç½®
allow_reply_to_emoji = false # æ˜¯å¦å…è®¸å›å¤è¡¨æƒ…åŒ…æ¶ˆæ¯

[message_receive]
# ä»¥ä¸‹æ˜¯æ¶ˆæ¯è¿‡æ»¤ï¼Œå¯ä»¥æ ¹æ®è§„åˆ™è¿‡æ»¤ç‰¹å®šæ¶ˆæ¯ï¼Œå°†ä¸ä¼šè¯»å–è¿™äº›æ¶ˆæ¯
ban_words = [
    # "403","å¼ ä¸‰"
    ]

ban_msgs_regex = [
    # éœ€è¦è¿‡æ»¤çš„æ¶ˆæ¯ï¼ˆåŸå§‹æ¶ˆæ¯ï¼‰åŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼ï¼ŒåŒ¹é…åˆ°çš„æ¶ˆæ¯å°†è¢«è¿‡æ»¤ï¼Œè‹¥ä¸äº†è§£æ­£åˆ™è¡¨è¾¾å¼è¯·å‹¿ä¿®æ”¹
    #"https?://[^\\s]+", # åŒ¹é…httpsé“¾æ¥
    #"\\d{4}-\\d{2}-\\d{2}", # åŒ¹é…æ—¥æœŸ
]
# é™é»˜ç¾¤ç»„åˆ—è¡¨ï¼Œåœ¨è¿™äº›ç¾¤ç»„ä¸­ï¼Œåªæœ‰åœ¨è¢«@æˆ–å›å¤æ—¶æ‰ä¼šå“åº”
# æ ¼å¼: ["group_id1", "group_id2"]
mute_group_list = []

[notice] # Noticeæ¶ˆæ¯é…ç½®
enable_notice_trigger_chat = false # æ˜¯å¦å…è®¸noticeæ¶ˆæ¯è§¦å‘èŠå¤©æµç¨‹ï¼ˆé»˜è®¤å…³é—­ï¼Œnoticeåªä¼šè¢«è®°å½•ä½†ä¸ä¼šè§¦å‘å›å¤ï¼‰
notice_in_prompt = true # æ˜¯å¦åœ¨æç¤ºè¯ä¸­å±•ç¤ºæœ€è¿‘çš„noticeæ¶ˆæ¯
notice_prompt_limit = 5 # åœ¨æç¤ºè¯ä¸­å±•ç¤ºçš„æœ€å¤§noticeæ•°é‡
notice_time_window = 1800 # noticeæ—¶é—´çª—å£ï¼ˆç§’ï¼‰ï¼Œåªæœ‰è¿™ä¸ªæ—¶é—´èŒƒå›´å†…çš„noticeä¼šåœ¨æç¤ºè¯ä¸­å±•ç¤ºï¼Œé»˜è®¤0.5å°æ—¶
max_notices_per_chat = 30 # æ¯ä¸ªèŠå¤©ä¿ç•™çš„noticeæ•°é‡ä¸Šé™
notice_retention_time = 3600 # noticeä¿ç•™æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œé»˜è®¤1å°æ—¶

[tool]
enable_tool = true # æ˜¯å¦åœ¨æ™®é€šèŠå¤©ä¸­å¯ç”¨å·¥å…·

[mood]
enable_mood = true # æ˜¯å¦å¯ç”¨æƒ…ç»ªç³»ç»Ÿ
mood_update_threshold = 1 # æƒ…ç»ªæ›´æ–°é˜ˆå€¼,è¶Šé«˜ï¼Œæ›´æ–°è¶Šæ…¢

[emoji]
emoji_chance = 0.6 # MoFox-Botæ¿€æ´»è¡¨æƒ…åŒ…åŠ¨ä½œçš„æ¦‚ç‡
emoji_activate_type = "llm" # è¡¨æƒ…åŒ…æ¿€æ´»ç±»å‹ï¼Œå¯é€‰ï¼šrandomï¼Œllm ; randomä¸‹ï¼Œè¡¨æƒ…åŒ…åŠ¨ä½œéšæœºå¯ç”¨ï¼Œllmä¸‹ï¼Œè¡¨æƒ…åŒ…åŠ¨ä½œæ ¹æ®llmåˆ¤æ–­æ˜¯å¦å¯ç”¨

max_reg_num = 60 # è¡¨æƒ…åŒ…æœ€å¤§æ³¨å†Œæ•°é‡
do_replace = true # å¼€å¯åˆ™åœ¨è¾¾åˆ°æœ€å¤§æ•°é‡æ—¶åˆ é™¤ï¼ˆæ›¿æ¢ï¼‰è¡¨æƒ…åŒ…ï¼Œå…³é—­åˆ™è¾¾åˆ°æœ€å¤§æ•°é‡æ—¶ä¸ä¼šç»§ç»­æ”¶é›†è¡¨æƒ…åŒ…
check_interval = 10 # æ£€æŸ¥è¡¨æƒ…åŒ…ï¼ˆæ³¨å†Œï¼Œç ´æŸï¼Œåˆ é™¤ï¼‰çš„æ—¶é—´é—´éš”(åˆ†é’Ÿ)
steal_emoji = true # æ˜¯å¦å·å–è¡¨æƒ…åŒ…ï¼Œè®©MoFox-Botå¯ä»¥å°†ä¸€äº›è¡¨æƒ…åŒ…æ®ä¸ºå·±æœ‰
content_filtration = false  # æ˜¯å¦å¯ç”¨è¡¨æƒ…åŒ…è¿‡æ»¤ï¼Œåªæœ‰ç¬¦åˆè¯¥è¦æ±‚çš„è¡¨æƒ…åŒ…æ‰ä¼šè¢«ä¿å­˜
filtration_prompt = "ç¬¦åˆå…¬åºè‰¯ä¿—" # è¡¨æƒ…åŒ…è¿‡æ»¤è¦æ±‚ï¼Œåªæœ‰ç¬¦åˆè¯¥è¦æ±‚çš„è¡¨æƒ…åŒ…æ‰ä¼šè¢«ä¿å­˜
enable_emotion_analysis = false # æ˜¯å¦å¯ç”¨è¡¨æƒ…åŒ…æ„Ÿæƒ…å…³é”®è¯äºŒæ¬¡è¯†åˆ«ï¼Œå¯ç”¨åè¡¨æƒ…åŒ…åœ¨ç¬¬ä¸€æ¬¡è¯†åˆ«å®Œæ¯•åå°†é€å…¥ç¬¬äºŒæ¬¡å¤§æ¨¡å‹è¯†åˆ«æ¥æ€»ç»“æ„Ÿæƒ…å…³é”®è¯ï¼Œå¹¶æ„å»ºè¿›å›å¤å’Œå†³ç­–å™¨çš„ä¸Šä¸‹æ–‡æ¶ˆæ¯ä¸­
# è¡¨æƒ…é€‰æ‹©æ¨¡å¼, å¯é€‰å€¼ä¸º "emotion" æˆ– "description"
# emotion: è®©å¤§æ¨¡å‹ä»æƒ…æ„Ÿæ ‡ç­¾ä¸­é€‰æ‹©
# description: è®©å¤§æ¨¡å‹ä»è¯¦ç»†æè¿°ä¸­é€‰æ‹©
emoji_selection_mode = "emotion"
max_context_emojis = 30 # æ¯æ¬¡éšæœºä¼ é€’ç»™LLMçš„è¡¨æƒ…åŒ…è¯¦ç»†æè¿°çš„æœ€å¤§æ•°é‡ï¼Œ0ä¸ºå…¨éƒ¨

# ==================== è®°å¿†å›¾ç³»ç»Ÿé…ç½® (Memory Graph System) ====================
# æ–°ä¸€ä»£è®°å¿†ç³»ç»Ÿï¼šåŸºäºçŸ¥è¯†å›¾è°± + è¯­ä¹‰å‘é‡çš„æ··åˆè®°å¿†æ¶æ„
# æ›¿ä»£æ—§çš„ enhanced memory ç³»ç»Ÿ

[memory]
# === åŸºç¡€é…ç½® ===
enable = true # æ˜¯å¦å¯ç”¨è®°å¿†ç³»ç»Ÿ
data_dir = "data/memory_graph" # è®°å¿†æ•°æ®å­˜å‚¨ç›®å½•

# === å‘é‡å­˜å‚¨é…ç½® ===
vector_collection_name = "memory_nodes" # å‘é‡é›†åˆåç§°
vector_db_path = "data/memory_graph/chroma_db" # å‘é‡æ•°æ®åº“è·¯å¾„ (ä½¿ç”¨ç‹¬ç«‹çš„chromadbå®ä¾‹)

# === è®°å¿†æ£€ç´¢é…ç½® ===
search_top_k = 10 # é»˜è®¤æ£€ç´¢è¿”å›æ•°é‡
search_min_importance = 0.4 # æœ€å°é‡è¦æ€§é˜ˆå€¼ (0.0-1.0)
search_similarity_threshold = 0.6 # å‘é‡ç›¸ä¼¼åº¦é˜ˆå€¼

# æ™ºèƒ½æŸ¥è¯¢ä¼˜åŒ–
enable_query_optimization = true # å¯ç”¨æŸ¥è¯¢ä¼˜åŒ–ï¼ˆä½¿ç”¨å°æ¨¡å‹åˆ†æå¯¹è¯å†å²ï¼Œç”Ÿæˆç»¼åˆæ€§æœç´¢æŸ¥è¯¢ï¼‰

# === è·¯å¾„è¯„åˆ†æ‰©å±•ç®—æ³•é…ç½® ===
# è¿™æ˜¯ä¸€ç§å…¨æ–°çš„å›¾æ£€ç´¢ç®—æ³•ï¼Œé€šè¿‡è·¯å¾„ä¼ æ’­å’Œåˆ†æ•°èšåˆæ¥å‘ç°ç›¸å…³è®°å¿†
# ä¼˜åŠ¿ï¼šæ›´ç²¾ç¡®çš„å›¾ç»“æ„åˆ©ç”¨ã€è·¯å¾„åˆå¹¶æœºåˆ¶ã€åŠ¨æ€å‰ªæä¼˜åŒ–
enable_path_expansion = true # æ˜¯å¦å¯ç”¨è·¯å¾„è¯„åˆ†æ‰©å±•ç®—æ³•
path_expansion_max_hops = 2 # è·¯å¾„æ‰©å±•æœ€å¤§è·³æ•°ï¼ˆå»ºè®®1-3ï¼‰
path_expansion_damping_factor = 0.85 # è·¯å¾„åˆ†æ•°è¡°å‡å› å­ï¼ˆPageRanké£æ ¼ï¼Œ0.85æ¨èï¼‰
path_expansion_max_branches = 10 # æ¯èŠ‚ç‚¹æœ€å¤§åˆ†å‰æ•°ï¼ˆæ§åˆ¶æ¢ç´¢å¹¿åº¦ï¼‰
path_expansion_merge_strategy = "weighted_geometric" # è·¯å¾„åˆå¹¶ç­–ç•¥: weighted_geometric(å‡ ä½•å¹³å‡), max_bonus(æœ€å¤§å€¼åŠ æˆ)
path_expansion_pruning_threshold = 0.9 # è·¯å¾„å‰ªæé˜ˆå€¼ï¼ˆæ–°è·¯å¾„åˆ†æ•°éœ€è¾¾åˆ°å·²æœ‰è·¯å¾„çš„90%ï¼‰
path_expansion_path_score_weight = 0.50 # è·¯å¾„åˆ†æ•°åœ¨æœ€ç»ˆè¯„åˆ†ä¸­çš„æƒé‡
path_expansion_importance_weight = 0.30 # é‡è¦æ€§åœ¨æœ€ç»ˆè¯„åˆ†ä¸­çš„æƒé‡
path_expansion_recency_weight = 0.20 # æ—¶æ•ˆæ€§åœ¨æœ€ç»ˆè¯„åˆ†ä¸­çš„æƒé‡

# ğŸ†• è·¯å¾„æ‰©å±• - è®°å¿†å»é‡é…ç½®
enable_memory_deduplication = true # å¯ç”¨æ£€ç´¢ç»“æœå»é‡ï¼ˆåˆå¹¶ç›¸ä¼¼è®°å¿†ï¼‰
memory_deduplication_threshold = 0.85 # è®°å¿†ç›¸ä¼¼åº¦é˜ˆå€¼ï¼ˆ0.85è¡¨ç¤º85%ç›¸ä¼¼å³åˆå¹¶ï¼‰

# === è®°å¿†é—å¿˜é…ç½® ===
forgetting_enabled = true # æ˜¯å¦å¯ç”¨è‡ªåŠ¨é—å¿˜
forgetting_activation_threshold = 0.1 # æ¿€æ´»åº¦é˜ˆå€¼ï¼ˆä½äºæ­¤å€¼çš„è®°å¿†ä¼šè¢«é—å¿˜ï¼‰
forgetting_min_importance = 0.8 # æœ€å°ä¿æŠ¤é‡è¦æ€§ï¼ˆé«˜äºæ­¤å€¼çš„è®°å¿†ä¸ä¼šè¢«é—å¿˜ï¼‰

# === è®°å¿†æ¿€æ´»é…ç½® ===
activation_decay_rate = 0.9 # æ¿€æ´»åº¦è¡°å‡ç‡ï¼ˆæ¯å¤©è¡°å‡10%ï¼‰
activation_propagation_strength = 0.5 # æ¿€æ´»ä¼ æ’­å¼ºåº¦ï¼ˆä¼ æ’­åˆ°ç›¸å…³è®°å¿†çš„æ¿€æ´»åº¦æ¯”ä¾‹ï¼‰
activation_propagation_depth = 1 # æ¿€æ´»ä¼ æ’­æ·±åº¦ï¼ˆæœ€å¤šä¼ æ’­å‡ å±‚ï¼Œå»ºè®®1-2ï¼‰

# === è®°å¿†æ¿€æ´»é…ç½®ï¼ˆå¼ºåˆ¶æ‰§è¡Œï¼‰===
auto_activate_base_strength = 0.1 # è®°å¿†è¢«æ£€ç´¢æ—¶è‡ªåŠ¨æ¿€æ´»çš„åŸºç¡€å¼ºåº¦
auto_activate_max_count = 10 # å•æ¬¡æœç´¢æœ€å¤šè‡ªåŠ¨æ¿€æ´»çš„è®°å¿†æ•°é‡

# === ä¸‰å±‚è®°å¿†ç³»ç»Ÿé…ç½® ===
# æ„ŸçŸ¥è®°å¿†å±‚é…ç½®
perceptual_max_blocks = 50 # è®°å¿†å †æœ€å¤§å®¹é‡ï¼ˆå…¨å±€ï¼‰
perceptual_block_size = 5 # æ¯ä¸ªè®°å¿†å—åŒ…å«çš„æ¶ˆæ¯æ•°é‡
perceptual_similarity_threshold = 0.55 # ç›¸ä¼¼åº¦é˜ˆå€¼ï¼ˆ0-1ï¼‰
perceptual_topk = 3 # TopKå¬å›æ•°é‡
perceptual_activation_threshold = 3 # æ¿€æ´»é˜ˆå€¼ï¼ˆå¬å›æ¬¡æ•°â†’çŸ­æœŸï¼‰

# çŸ­æœŸè®°å¿†å±‚é…ç½®
short_term_max_memories = 30 # çŸ­æœŸè®°å¿†æœ€å¤§æ•°é‡
short_term_transfer_threshold = 0.6 # è½¬ç§»åˆ°é•¿æœŸè®°å¿†çš„é‡è¦æ€§é˜ˆå€¼
short_term_search_top_k = 5 # æœç´¢æ—¶è¿”å›çš„æœ€å¤§æ•°é‡
short_term_decay_factor = 0.98 # è¡°å‡å› å­

# é•¿æœŸè®°å¿†å±‚é…ç½®
long_term_batch_size = 10 # æ‰¹é‡è½¬ç§»å¤§å°
long_term_decay_factor = 0.95 # è¡°å‡å› å­
long_term_auto_transfer_interval = 180 # è‡ªåŠ¨è½¬ç§»é—´éš”ï¼ˆç§’ï¼‰

# èŠ‚ç‚¹å»é‡åˆå¹¶é…ç½®
node_merger_similarity_threshold = 0.85 # èŠ‚ç‚¹å»é‡ç›¸ä¼¼åº¦é˜ˆå€¼
node_merger_context_match_required = true # èŠ‚ç‚¹åˆå¹¶æ˜¯å¦è¦æ±‚ä¸Šä¸‹æ–‡åŒ¹é…
node_merger_merge_batch_size = 50 # èŠ‚ç‚¹åˆå¹¶æ‰¹é‡å¤„ç†å¤§å°

# === æ€§èƒ½é…ç½® ===
max_memory_nodes_per_memory = 10 # æ¯æ¡è®°å¿†æœ€å¤šåŒ…å«çš„èŠ‚ç‚¹æ•°
max_related_memories = 5 # æ¿€æ´»ä¼ æ’­æ—¶æœ€å¤šå½±å“çš„ç›¸å…³è®°å¿†æ•°

# ==================== ä¸‰å±‚è®°å¿†ç³»ç»Ÿé…ç½® (Three-Tier Memory System) ====================
# å—äººè„‘è®°å¿†æœºåˆ¶å¯å‘çš„åˆ†å±‚è®°å¿†æ¶æ„ï¼š
# 1. æ„ŸçŸ¥è®°å¿†å±‚ (Perceptual Memory) - æ¶ˆæ¯å—çš„çŸ­æœŸç¼“å­˜ï¼Œè‡ªåŠ¨æ”¶é›†
# 2. çŸ­æœŸè®°å¿†å±‚ (Short-term Memory) - ç»“æ„åŒ–çš„æ´»è·ƒè®°å¿†ï¼Œæ¨¡å‹æ ¼å¼åŒ–
# 3. é•¿æœŸè®°å¿†å±‚ (Long-term Memory) - æŒä¹…åŒ–çš„å›¾ç»“æ„è®°å¿†ï¼Œæ‰¹é‡è½¬ç§»

[voice]
enable_asr = true # æ˜¯å¦å¯ç”¨è¯­éŸ³è¯†åˆ«ï¼Œå¯ç”¨åMoFox-Botå¯ä»¥è¯†åˆ«è¯­éŸ³æ¶ˆæ¯ï¼Œå¯ç”¨è¯¥åŠŸèƒ½éœ€è¦é…ç½®è¯­éŸ³è¯†åˆ«æ¨¡å‹[model.voice]
# [è¯­éŸ³è¯†åˆ«æä¾›å•†] å¯é€‰å€¼: "api", "local". é»˜è®¤ä½¿ç”¨ "api".
# æ³¨æ„: "local" ä¼šæ¶ˆè€—å¤§é‡CPUèµ„æº, å¯èƒ½å¯¼è‡´ä½é…æœåŠ¡å™¨å¡é¡¿. è¯¦æƒ…è¯·è§ stt_whisper_plugin æ’ä»¶é…ç½®.
asr_provider = "api"

[lpmm_knowledge] # lpmmçŸ¥è¯†åº“é…ç½®
enable = false # æ˜¯å¦å¯ç”¨lpmmçŸ¥è¯†åº“
enable_summary = true # æ˜¯å¦å¯ç”¨çŸ¥è¯†åº“æ€»ç»“
rag_synonym_search_top_k = 10 # åŒä¹‰è¯æœç´¢TopK
rag_synonym_threshold = 0.8 # åŒä¹‰è¯é˜ˆå€¼ï¼ˆç›¸ä¼¼åº¦é«˜äºæ­¤é˜ˆå€¼çš„è¯è¯­ä¼šè¢«è®¤ä¸ºæ˜¯åŒä¹‰è¯ï¼‰
info_extraction_workers = 3 # å®ä½“æå–åŒæ—¶æ‰§è¡Œçº¿ç¨‹æ•°ï¼ŒéProæ¨¡å‹ä¸è¦è®¾ç½®è¶…è¿‡5
qa_relation_search_top_k = 10 # å…³ç³»æœç´¢TopK
qa_relation_threshold = 0.5 # å…³ç³»é˜ˆå€¼ï¼ˆç›¸ä¼¼åº¦é«˜äºæ­¤é˜ˆå€¼çš„å…³ç³»ä¼šè¢«è®¤ä¸ºæ˜¯ç›¸å…³çš„å…³ç³»ï¼‰
qa_paragraph_search_top_k = 1000 # æ®µè½æœç´¢TopKï¼ˆä¸èƒ½è¿‡å°ï¼Œå¯èƒ½å½±å“æœç´¢ç»“æœï¼‰
qa_paragraph_threshold = 0.4 # æ®µè½é˜ˆå€¼ï¼ˆç›¸ä¼¼åº¦é«˜äºæ­¤é˜ˆå€¼çš„æ®µè½æ‰ä¼šè¢«è®¤ä¸ºæ˜¯ç›¸å…³çš„ï¼‰
qa_paragraph_node_weight = 0.05 # æ®µè½èŠ‚ç‚¹æƒé‡ï¼ˆåœ¨å›¾æœç´¢&PPRè®¡ç®—ä¸­çš„æƒé‡ï¼Œå½“æœç´¢ä»…ä½¿ç”¨DPRæ—¶ï¼Œæ­¤å‚æ•°ä¸èµ·ä½œç”¨ï¼‰
qa_ent_filter_top_k = 10 # å®ä½“è¿‡æ»¤TopK
qa_ppr_damping = 0.8 # PPRé˜»å°¼ç³»æ•°
qa_res_top_k = 3 # æœ€ç»ˆæä¾›çš„æ–‡æ®µTopK
embedding_dimension = 1024 # åµŒå…¥å‘é‡ç»´åº¦,åº”è¯¥ä¸æ¨¡å‹çš„è¾“å‡ºç»´åº¦ä¸€è‡´

# --- ååº”è§„åˆ™ç³»ç»Ÿ ---
# åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥å®šä¹‰ä¸€ç³»åˆ—åŸºäºå…³é”®è¯æˆ–æ­£åˆ™è¡¨è¾¾å¼çš„è‡ªåŠ¨å›å¤è§„åˆ™ã€‚
# æ¯æ¡è§„åˆ™éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ [[reaction.rules]] å—ã€‚

# chat_stream_id: èŠå¤©æµID (æ ¼å¼ "platform:id:type")ã€‚
#                 ç”¨äºæŒ‡å®šæ­¤è§„åˆ™ä»…åœ¨å“ªä¸ªèŠå¤©ä¸­ç”Ÿæ•ˆã€‚
#                 å¦‚æœç•™ç©º ("")ï¼Œåˆ™ä¸ºå…¨å±€è§„åˆ™ï¼Œå¯¹æ‰€æœ‰èŠå¤©ç”Ÿæ•ˆã€‚
# rule_type:      è§„åˆ™ç±»å‹ï¼Œå¿…é¡»æ˜¯ "keyword" æˆ– "regex"ã€‚
#                 "keyword": è¡¨ç¤ºæœ¬æ¡è§„åˆ™ä½¿ç”¨å…³é”®è¯åŒ¹é…ã€‚
#                 "regex":   è¡¨ç¤ºæœ¬æ¡è§„åˆ™ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ã€‚
# patterns:       ä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ï¼Œæ ¹æ® rule_type çš„ä¸åŒï¼Œè¿™é‡Œå¡«å†™å…³é”®è¯æˆ–æ­£åˆ™è¡¨è¾¾å¼ã€‚
# reaction:       è§¦å‘è§„åˆ™åï¼Œæœºå™¨äººå‘é€çš„å›å¤å†…å®¹ã€‚

[[reaction.rules]]
chat_stream_id = ""
rule_type = "keyword"
patterns = ["äººæœº", "bot", "æœºå™¨", "å…¥æœº", "robot", "æœºå™¨äºº", "ai", "AI"]
reaction = "æœ‰äººè¯´ä½ æ˜¯äººæœºæˆ–è€…æœºå™¨äººï¼Œå¦å®šè¿™ä¸€äº‹å®ï¼Œæ”»å‡»æˆ–åé—®ä»–ã€‚æ³¨æ„ï¼Œåªæœ‰è®¤ä¸ºä½ æ˜¯æœºå™¨äººæ‰å›å¤ï¼Œå¦åˆ™ä¸è¦å¦è®¤"

[[reaction.rules]]
chat_stream_id = ""
rule_type = "keyword"
patterns = ["æµ‹è¯•å…³é”®è¯å›å¤", "test"]
reaction = "å›ç­”æµ‹è¯•æˆåŠŸ"

[[reaction.rules]]
chat_stream_id = ""
rule_type = "regex"
patterns = ["^(?P<n>\\S{1,20})æ˜¯è¿™æ ·çš„$"]
reaction = "è¯·æŒ‰ç…§ä»¥ä¸‹æ¨¡æ¿é€ å¥ï¼š[n]æ˜¯è¿™æ ·çš„ï¼Œxxåªè¦xxå°±å¯ä»¥ï¼Œå¯æ˜¯[n]è¦è€ƒè™‘çš„äº‹æƒ…å°±å¾ˆå¤šäº†ï¼Œæ¯”å¦‚ä»€ä¹ˆæ—¶å€™xxï¼Œä»€ä¹ˆæ—¶å€™xxï¼Œä»€ä¹ˆæ—¶å€™xxã€‚ï¼ˆè¯·è‡ªç”±å‘æŒ¥æ›¿æ¢xxéƒ¨åˆ†ï¼Œåªéœ€ä¿æŒå¥å¼ç»“æ„ï¼ŒåŒæ—¶è¡¨è¾¾ä¸€ç§å°†[n]è¿‡åº¦é‡è§†çš„åè®½æ„å‘³ï¼‰"

# å¯ä»¥è‡ªå®šä¹‰éƒ¨åˆ†æç¤ºè¯
[custom_prompt]
image_prompt = "è¯·ç”¨ä¸­æ–‡æè¿°è¿™å¼ å›¾ç‰‡çš„å†…å®¹ã€‚å¦‚æœæœ‰æ–‡å­—ï¼Œè¯·æŠŠæ–‡å­—æè¿°æ¦‚æ‹¬å‡ºæ¥ï¼Œè¯·ç•™æ„å…¶ä¸»é¢˜ï¼Œç›´è§‚æ„Ÿå—ï¼Œè¾“å‡ºä¸ºä¸€æ®µå¹³æ–‡æœ¬ï¼Œæœ€å¤š30å­—ï¼Œè¯·æ³¨æ„ä¸è¦åˆ†ç‚¹ï¼Œå°±è¾“å‡ºä¸€æ®µæ–‡æœ¬"
planner_custom_prompt_content = "" # AFCçš„å†³ç­–å™¨è‡ªå®šä¹‰æç¤ºè¯å†…å®¹ï¼Œå¦‚æœè¿™é‡Œæ²¡æœ‰å†…å®¹åˆ™ä¸ç”Ÿæ•ˆ

[response_post_process]
enable_response_post_process = true # æ˜¯å¦å¯ç”¨å›å¤åå¤„ç†ï¼ŒåŒ…æ‹¬é”™åˆ«å­—ç”Ÿæˆå™¨ï¼Œå›å¤åˆ†å‰²å™¨

[chinese_typo]
enable = true # æ˜¯å¦å¯ç”¨ä¸­æ–‡é”™åˆ«å­—ç”Ÿæˆå™¨
error_rate=0.001 # å•å­—æ›¿æ¢æ¦‚ç‡
min_freq=9 # æœ€å°å­—é¢‘é˜ˆå€¼
tone_error_rate=0.005 # å£°è°ƒé”™è¯¯æ¦‚ç‡
word_replace_rate=0.006 # æ•´è¯æ›¿æ¢æ¦‚ç‡

[response_splitter]
enable = true # æ˜¯å¦å¯ç”¨å›å¤åˆ†å‰²å™¨
split_mode = "punctuation" # åˆ†å‰²æ¨¡å¼: "llm" - ç”±è¯­è¨€æ¨¡å‹å†³å®š, "punctuation" - åŸºäºæ ‡ç‚¹ç¬¦å·
max_length = 512 # å›å¤å…è®¸çš„æœ€å¤§é•¿åº¦
max_sentence_num = 8 # å›å¤å…è®¸çš„æœ€å¤§å¥å­æ•°
enable_kaomoji_protection = true # æ˜¯å¦å¯ç”¨é¢œæ–‡å­—ä¿æŠ¤

[log]
date_style = "m-d H:i:s" # æ—¥æœŸæ ¼å¼
log_level_style = "lite" # æ—¥å¿—çº§åˆ«æ ·å¼,å¯é€‰FULLï¼Œcompactï¼Œlite
color_text = "full" # æ—¥å¿—æ–‡æœ¬é¢œè‰²ï¼Œå¯é€‰noneï¼Œtitleï¼Œfull
log_level = "INFO" # å…¨å±€æ—¥å¿—çº§åˆ«ï¼ˆå‘ä¸‹å…¼å®¹ï¼Œä¼˜å…ˆçº§ä½äºä¸‹é¢çš„åˆ†åˆ«è®¾ç½®ï¼‰
file_retention_days = 30  # æ–‡ä»¶æ—¥å¿—ä¿ç•™å¤©æ•°ï¼Œ0=ç¦ç”¨æ–‡ä»¶æ—¥å¿—ï¼Œ-1=æ°¸ä¸åˆ é™¤
console_log_level = "INFO" # æ§åˆ¶å°æ—¥å¿—çº§åˆ«ï¼Œå¯é€‰: DEBUG, INFO, WARNING, ERROR, CRITICAL
file_log_level = "DEBUG" # æ–‡ä»¶æ—¥å¿—çº§åˆ«ï¼Œå¯é€‰: DEBUG, INFO, WARNING, ERROR, CRITICAL

# ç¬¬ä¸‰æ–¹åº“æ—¥å¿—æ§åˆ¶
suppress_libraries = ["faiss","httpx", "urllib3", "asyncio", "websockets", "httpcore", "requests", "aiosqlite", "openai","uvicorn","rjieba","message_bus"] # å®Œå…¨å±è”½çš„åº“
library_log_levels = { "aiohttp" = "WARNING"} # è®¾ç½®ç‰¹å®šåº“çš„æ—¥å¿—çº§åˆ«

[dependency_management] # æ’ä»¶Pythonä¾èµ–ç®¡ç†é…ç½®
# æ˜¯å¦å¯ç”¨è‡ªåŠ¨å®‰è£…Pythonä¾èµ–åŒ…ï¼ˆä¸»å¼€å…³ï¼‰
auto_install = true #it can work now!
# å®‰è£…è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
auto_install_timeout = 300
# æ˜¯å¦ä½¿ç”¨PyPIé•œåƒæºï¼ˆæ¨èï¼Œå¯åŠ é€Ÿä¸‹è½½ï¼‰
use_mirror = true
mirror_url = "https://pypi.tuna.tsinghua.edu.cn/simple" # PyPIé•œåƒæºURLï¼Œå¦‚: "https://pypi.tuna.tsinghua.edu.cn/simple" 
# ä¾èµ–å®‰è£…æ—¥å¿—çº§åˆ«
install_log_level = "INFO"

[debug]
show_prompt = false # æ˜¯å¦æ˜¾ç¤ºprompt

[message_bus]
auth_token = [] # è®¤è¯ä»¤ç‰Œï¼Œç”¨äºAPIéªŒè¯ï¼Œä¸ºç©ºåˆ™ä¸å¯ç”¨éªŒè¯
# ä»¥ä¸‹é¡¹ç›®è‹¥è¦ä½¿ç”¨éœ€è¦æ‰“å¼€use_customï¼Œå¹¶å•ç‹¬é…ç½®message_busçš„æœåŠ¡å™¨
use_custom = false # æ˜¯å¦å¯ç”¨è‡ªå®šä¹‰çš„message_busæœåŠ¡å™¨ï¼Œæ³¨æ„è¿™éœ€è¦è®¾ç½®æ–°çš„ç«¯å£ï¼Œä¸èƒ½ä¸.envé‡å¤
host="127.0.0.1"
port=8090
mode="ws" # æ”¯æŒwså’Œtcpä¸¤ç§æ¨¡å¼
use_wss = false # æ˜¯å¦ä½¿ç”¨WSSå®‰å…¨è¿æ¥ï¼Œåªæ”¯æŒwsæ¨¡å¼
cert_file = "" # SSLè¯ä¹¦æ–‡ä»¶è·¯å¾„ï¼Œä»…åœ¨use_wss=trueæ—¶æœ‰æ•ˆ
key_file = "" # SSLå¯†é’¥æ–‡ä»¶è·¯å¾„ï¼Œä»…åœ¨use_wss=trueæ—¶æœ‰æ•ˆ

[planning_system]
# ============================================================================
# åŸºç¡€å¼€å…³
# ============================================================================
# æ˜¯å¦å¯ç”¨æ—¥ç¨‹ç®¡ç†åŠŸèƒ½
schedule_enable = true

# æ˜¯å¦å¯ç”¨æœˆåº¦è®¡åˆ’åŠŸèƒ½
monthly_plan_enable = true

# ============================================================================
# æ—¥ç¨‹ç”Ÿæˆé…ç½®
# ============================================================================
# æ—¥ç¨‹ç”Ÿæˆä½¿ç”¨çš„æŒ‡å¯¼åŸåˆ™ï¼ˆç•™ç©ºåˆ™ä½¿ç”¨é»˜è®¤å€¼ï¼‰
schedule_guidelines = ""

# ============================================================================
# æœˆåº¦è®¡åˆ’é…ç½®
# ============================================================================
# æœˆåº¦è®¡åˆ’ç”Ÿæˆä½¿ç”¨çš„æŒ‡å¯¼åŸåˆ™ï¼ˆç•™ç©ºåˆ™ä½¿ç”¨é»˜è®¤å€¼ï¼‰
monthly_plan_guidelines = ""

# æ¯æœˆæœ€å¤šç”Ÿæˆçš„è®¡åˆ’æ•°é‡
max_plans_per_month = 10

# è®¡åˆ’è¢«ä½¿ç”¨å¤šå°‘æ¬¡åè‡ªåŠ¨æ ‡è®°ä¸ºå®Œæˆ
completion_threshold = 3

# æ™ºèƒ½æŠ½å–è®¡åˆ’æ—¶ï¼Œé¿å…é‡å¤çš„å¤©æ•°ï¼ˆNå¤©å†…ä¸é‡å¤æŠ½å–åŒä¸€è®¡åˆ’ï¼‰
avoid_repetition_days = 7

# ============================================================================
# æ–°å¢ï¼šæ—¥ç¨‹ä½¿ç”¨è¡Œä¸ºé…ç½®
# ============================================================================
# æ—¥ç¨‹æåŠé—´éš”ï¼ˆåˆ†é’Ÿï¼‰
# Botåœ¨å¯¹è¯ä¸­æåŠæ—¥ç¨‹çš„æœ€å°æ—¶é—´é—´éš”ï¼Œé¿å…é¢‘ç¹æåŠ
# é»˜è®¤ï¼š30åˆ†é’Ÿ
# å»ºè®®ï¼š30-60åˆ†é’Ÿï¼Œå¦‚æœå¸Œæœ›Botæ›´å°‘æåŠæ—¥ç¨‹ï¼Œå¯ä»¥è®¾ç½®ä¸º120åˆ†é’Ÿ
schedule_mention_interval_minutes = 30

# æ˜¯å¦è‡ªåŠ¨åœ¨å¯¹è¯ä¸Šä¸‹æ–‡ä¸­åŒ…å«æ—¥ç¨‹ä¿¡æ¯
# falseï¼ˆæ¨èï¼‰ï¼šåªåœ¨ç”¨æˆ·è¯¢é—®æ—¶åŒ…å«
# trueï¼šæ¯æ¬¡å¯¹è¯éƒ½åŒ…å«ï¼ˆä¸æ¨èï¼Œä¼šè®©Botè¿‡åº¦å…³æ³¨æ—¥ç¨‹ï¼‰
auto_include_schedule_in_context = false

# æ—¥ç¨‹ä½¿ç”¨æ¨¡å¼
# "reference"ï¼ˆæ¨èï¼‰ï¼šæ—¥ç¨‹ä»…ä½œä¸ºå‚è€ƒï¼ŒBotå¯ä»¥çµæ´»è°ƒæ•´
# "suggestion"ï¼šæ—¥ç¨‹ä½œä¸ºå»ºè®®ï¼ŒBotä¼šè€ƒè™‘ä½†ä¸å¼ºåˆ¶éµå®ˆ
# "strict"ï¼šä¸¥æ ¼æ¨¡å¼ï¼ŒBotä¼šå°½é‡éµå®ˆæ—¥ç¨‹ï¼ˆä¸æ¨èï¼‰
schedule_usage_mode = "reference"

# æ˜¯å¦å…è®¸ä¸´æ—¶è°ƒæ•´æ—¥ç¨‹
# trueï¼ˆæ¨èï¼‰ï¼šå…è®¸Botæ ¹æ®å¯¹è¯ä¸´æ—¶è°ƒæ•´å½“å‰æ´»åŠ¨
# falseï¼šä¸å…è®¸ä¸´æ—¶è°ƒæ•´
allow_temporary_schedule_adjustment = true

# ä¸´æ—¶æ´»åŠ¨çš„é»˜è®¤æŒç»­æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰
# å½“ç”¨æˆ·è¯·æ±‚ä¸æ—¥ç¨‹å†²çªæ—¶ï¼ŒBotå¯ä»¥åˆ›å»ºä¸´æ—¶æ´»åŠ¨è¦†ç›–åŸæ—¥ç¨‹
# é»˜è®¤ï¼š60åˆ†é’Ÿ
temporary_activity_default_duration = 60

# ============================================================================
# æ—¥ç¨‹ä¸Šä¸‹æ–‡é…ç½®
# ============================================================================
# æ—¥ç¨‹è¯¦ç»†ç¨‹åº¦
# "brief"ï¼ˆæ¨èï¼‰ï¼šåªæä¾›å½“å‰æ´»åŠ¨ï¼Œæœ€ç®€æ´
# "normal"ï¼šæä¾›å½“å‰æ´»åŠ¨å’Œæ—¶é—´èŒƒå›´
# "detailed"ï¼šåŒ…å«å®Œæ•´æ—¥ç¨‹åˆ—è¡¨ï¼ˆä¸æ¨èï¼Œä¿¡æ¯è¿‡è½½ï¼‰
schedule_context_detail_level = "brief"

# æ˜¯å¦åœ¨ç³»ç»Ÿæç¤ºè¯ä¸­åŒ…å«æ—¥ç¨‹ä½¿ç”¨æŒ‡å—
# trueï¼ˆæ¨èï¼‰ï¼šåŒ…å«æŒ‡å—ï¼Œå¸®åŠ©LLMç†è§£å¦‚ä½•ä½¿ç”¨æ—¥ç¨‹
# falseï¼šä¸åŒ…å«æŒ‡å—ï¼ŒèŠ‚çœtoken
include_schedule_usage_guide = true

# ============================================================================
# æ¨èé…ç½®ç»„åˆ
# ============================================================================
# 
# ã€æœ€å°åŒ–æåŠã€‘ï¼ˆæ¨èï¼Œè®©æ—¥ç¨‹çœŸæ­£æˆä¸ºèƒŒæ™¯ï¼‰ï¼š
# schedule_mention_interval_minutes = 60
# auto_include_schedule_in_context = false
# schedule_usage_mode = "reference"
# allow_temporary_schedule_adjustment = true
# schedule_context_detail_level = "brief"
# 
# ã€é€‚åº¦æåŠã€‘ï¼ˆå¹³è¡¡æ–¹æ¡ˆï¼‰ï¼š
# schedule_mention_interval_minutes = 30
# auto_include_schedule_in_context = false
# schedule_usage_mode = "suggestion"
# allow_temporary_schedule_adjustment = true
# schedule_context_detail_level = "normal"
# 
# ã€ä¸¥æ ¼éµå®ˆã€‘ï¼ˆä¸æ¨èï¼Œä¼šè®©Botæ˜¾å¾—æ­»æ¿ï¼‰ï¼š
# schedule_mention_interval_minutes = 15
# auto_include_schedule_in_context = true
# schedule_usage_mode = "strict"
# allow_temporary_schedule_adjustment = false
# schedule_context_detail_level = "detailed"

[video_analysis] # è§†é¢‘åˆ†æé…ç½®
enable = true # æ˜¯å¦å¯ç”¨è§†é¢‘åˆ†æåŠŸèƒ½
analysis_mode = "batch_frames" # åˆ†ææ¨¡å¼ï¼š"frame_by_frame"ï¼ˆé€å¸§åˆ†æï¼Œéå¸¸æ…¢ï¼‰ã€"batch_frames"ï¼ˆæ‰¹é‡åˆ†æï¼Œæ¨èï¼‰æˆ– "auto"ï¼ˆè‡ªåŠ¨é€‰æ‹©ï¼‰
frame_extraction_mode = "keyframe"  # æŠ½å¸§æ¨¡å¼: "keyframe" (æ™ºèƒ½å…³é”®å¸§ï¼Œæ¨è)ã€"fixed_number" (å›ºå®šæ€»å¸§æ•°) æˆ– "time_interval" (æŒ‰æ—¶é—´é—´éš”)
frame_interval_seconds = 2.0  # æŒ‰æ—¶é—´é—´éš”æŠ½å¸§çš„ç§’æ•°ï¼ˆä»…åœ¨ mode = "time_interval" æ—¶ç”Ÿæ•ˆï¼‰
max_frames = 16 # æœ€å¤§åˆ†æå¸§æ•°
frame_quality = 80 # å¸§å›¾åƒJPEGè´¨é‡ (1-100)
max_image_size = 800 # å•å¸§æœ€å¤§å›¾åƒå°ºå¯¸(åƒç´ )
enable_frame_timing = true # æ˜¯å¦åœ¨åˆ†æä¸­åŒ…å«å¸§çš„æ—¶é—´ä¿¡æ¯

# Rustæ¨¡å—ç›¸å…³é…ç½®
rust_keyframe_threshold = 2.0 # å…³é”®å¸§æ£€æµ‹é˜ˆå€¼ï¼Œå€¼è¶Šå¤§å…³é”®å¸§è¶Šå°‘
rust_use_simd = true # å¯ç”¨SIMDä¼˜åŒ–ï¼ˆæ¨èï¼‰
rust_block_size = 8192 # å¤„ç†å—å¤§å°ï¼Œè¾ƒå¤§å€¼å¯èƒ½æé«˜é«˜åˆ†è¾¨ç‡è§†é¢‘æ€§èƒ½
rust_threads = 0 # çº¿ç¨‹æ•°ï¼Œ0è¡¨ç¤ºè‡ªåŠ¨æ£€æµ‹
ffmpeg_path = "ffmpeg" # FFmpegå¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„


# æ‰¹é‡åˆ†ææ—¶ä½¿ç”¨çš„æç¤ºè¯
batch_analysis_prompt = """è¯·ä»¥ç¬¬ä¸€äººç§°çš„è§†è§’æ¥è§‚çœ‹è¿™ä¸€ä¸ªè§†é¢‘ï¼Œä½ çœ‹åˆ°çš„è¿™äº›æ˜¯ä»è§†é¢‘ä¸­æŒ‰æ—¶é—´é¡ºåºæå–çš„å…³é”®å¸§ã€‚

ä½ çš„æ ¸å¿ƒäººè®¾æ˜¯ï¼š{personality_core}ã€‚
ä½ çš„äººæ ¼ç»†èŠ‚æ˜¯ï¼š{personality_side}ã€‚

è¯·æä¾›è¯¦ç»†çš„è§†é¢‘å†…å®¹æè¿°ï¼Œæ¶µç›–ä»¥ä¸‹æ–¹é¢ï¼š
1. è§†é¢‘çš„æ•´ä½“å†…å®¹å’Œä¸»é¢˜
2. ä¸»è¦äººç‰©ã€å¯¹è±¡å’Œåœºæ™¯æè¿°
3. åŠ¨ä½œã€æƒ…èŠ‚å’Œæ—¶é—´çº¿å‘å±•
4. è§†è§‰é£æ ¼å’Œè‰ºæœ¯ç‰¹ç‚¹
5. æ•´ä½“æ°›å›´å’Œæƒ…æ„Ÿè¡¨è¾¾
6. ä»»ä½•ç‰¹æ®Šçš„è§†è§‰æ•ˆæœæˆ–æ–‡å­—å†…å®¹

è¯·ç”¨ä¸­æ–‡å›ç­”ï¼Œç»“æœè¦è¯¦ç»†å‡†ç¡®ã€‚"""
# è¯·ä¸è¦ä¿®æ”¹{personality_core}å’Œ{personality_side}å“¦~


# ç½‘ç»œæœç´¢ç»„ä»¶é…ç½®
[web_search]
enable_web_search_tool = true # æ˜¯å¦å¯ç”¨è”ç½‘æœç´¢tool
enable_url_tool = true # æ˜¯å¦å¯ç”¨URLè§£ætool
tavily_api_keys = ["None"]# Tavily APIå¯†é’¥åˆ—è¡¨ï¼Œæ”¯æŒè½®è¯¢æœºåˆ¶
exa_api_keys = ["None"]# EXA APIå¯†é’¥åˆ—è¡¨ï¼Œæ”¯æŒè½®è¯¢æœºåˆ¶
metaso_api_keys = ["None"]# Metaso APIå¯†é’¥åˆ—è¡¨ï¼Œæ”¯æŒè½®è¯¢æœºåˆ¶
searxng_instances = [] # SearXNG å®ä¾‹ URL åˆ—è¡¨
searxng_api_keys = []# SearXNG å®ä¾‹ API å¯†é’¥åˆ—è¡¨
serper_api_keys = []# serper API å¯†é’¥åˆ—è¡¨

# æœç´¢å¼•æ“é…ç½®
enabled_engines = ["ddg"] # å¯ç”¨çš„æœç´¢å¼•æ“åˆ—è¡¨ï¼Œå¯é€‰: "exa", "tavily", "ddg","bing", "metaso","serper"
search_strategy = "single" # æœç´¢ç­–ç•¥: "single"(ä½¿ç”¨ç¬¬ä¸€ä¸ªå¯ç”¨å¼•æ“), "parallel"(å¹¶è¡Œä½¿ç”¨æ‰€æœ‰å¯ç”¨çš„å¼•æ“), "fallback"(æŒ‰é¡ºåºå°è¯•ï¼Œå¤±è´¥åˆ™å°è¯•ä¸‹ä¸€ä¸ª)

[cross_context] # è·¨ç¾¤èŠ/ç§èŠä¸Šä¸‹æ–‡å…±äº«é…ç½®
# è¿™æ˜¯æ€»å¼€å…³ï¼Œç”¨äºä¸€é”®å¯ç”¨æˆ–ç¦ç”¨æ­¤åŠŸèƒ½
enable = true

# --- S4Uæ¨¡å¼: ç”¨æˆ·ä¸­å¿ƒä¸Šä¸‹æ–‡æ£€ç´¢ ---
# S4Uæ¨¡å¼ä¸å†ä¾èµ–äºå…±äº«ç»„é…ç½®ï¼Œè€Œæ˜¯ä½¿ç”¨ä»¥ä¸‹å…¨å±€é…ç½®
s4u_mode = "whitelist" # "whitelist"(ç™½åå•) æˆ– "blacklist"(é»‘åå•)ã€‚
s4u_limit = 10 # S4Uæ¨¡å¼ä¸‹ï¼Œä»æ¯ä¸ªèŠå¤©ä¸­è·å–ç›®æ ‡ç”¨æˆ·çš„æ¶ˆæ¯æ¡æ•°
s4u_stream_limit = 3 # S4Uæ¨¡å¼ä¸‹ï¼Œæœ€å¤šæ£€ç´¢å¤šå°‘ä¸ªä¸åŒçš„èŠå¤©æµ (æŒ‰æ—¶é—´æ’åº)
# ç™½åå•åˆ—è¡¨ï¼Œæ ¼å¼: ["platform:type:id", ...]
# ç¤ºä¾‹: ["qq:group:123456", "qq:private:7891011"]
s4u_whitelist_chats = []
# é»‘åå•åˆ—è¡¨ï¼Œæ ¼å¼åŒä¸Š
s4u_blacklist_chats = []

[affinity_flow]
enable_normal_mode = true # æ˜¯å¦å¯ç”¨ Normal èŠå¤©æ¨¡å¼ã€‚å¯ç”¨åï¼Œåœ¨ä¸“æ³¨æ¨¡å¼å›å¤åä¼šè‡ªåŠ¨åˆ‡æ¢ï¼Œå¹¶æ ¹æ®å…´è¶£åº¦å†³å®šæ˜¯å¦å›å¤ï¼Œä»¥å®ç°æ›´å¿«é€Ÿçš„å›å¤ã€‚
# å…´è¶£è¯„åˆ†ç³»ç»Ÿå‚æ•°
reply_action_interest_threshold = 0.75 # å›å¤åŠ¨ä½œå…´è¶£é˜ˆå€¼
non_reply_action_interest_threshold = 0.65 # éå›å¤åŠ¨ä½œå…´è¶£é˜ˆå€¼
high_match_interest_threshold = 0.6 # é«˜åŒ¹é…å…´è¶£é˜ˆå€¼
medium_match_interest_threshold = 0.4 # ä¸­åŒ¹é…å…´è¶£é˜ˆå€¼
low_match_interest_threshold = 0.2 # ä½åŒ¹é…å…´è¶£é˜ˆå€¼
high_match_keyword_multiplier = 4 # é«˜åŒ¹é…å…³é”®è¯å…´è¶£å€ç‡
medium_match_keyword_multiplier = 2.5 # ä¸­åŒ¹é…å…³é”®è¯å…´è¶£å€ç‡
low_match_keyword_multiplier = 1.15 # ä½åŒ¹é…å…³é”®è¯å…´è¶£å€ç‡
match_count_bonus = 0.01 # åŒ¹é…æ•°å…³é”®è¯åŠ æˆå€¼
max_match_bonus = 0.1 # æœ€å¤§åŒ¹é…æ•°åŠ æˆå€¼

# å›å¤å†³ç­–ç³»ç»Ÿå‚æ•°
no_reply_threshold_adjustment = 0.02 # ä¸å›å¤å…´è¶£é˜ˆå€¼è°ƒæ•´å€¼
reply_cooldown_reduction = 2 # å›å¤åå‡å°‘çš„ä¸å›å¤è®¡æ•°
max_no_reply_count = 5 # æœ€å¤§ä¸å›å¤è®¡æ•°æ¬¡æ•°

# å›å¤åè¿ç»­å¯¹è¯æœºåˆ¶å‚æ•°
enable_post_reply_boost = true # æ˜¯å¦å¯ç”¨å›å¤åé˜ˆå€¼é™ä½æœºåˆ¶ï¼Œä½¿botåœ¨å›å¤åæ›´å®¹æ˜“è¿›è¡Œè¿ç»­å¯¹è¯
post_reply_threshold_reduction = 0.1 # å›å¤ååˆå§‹é˜ˆå€¼é™ä½å€¼
post_reply_boost_max_count = 3 # å›å¤åé˜ˆå€¼é™ä½çš„æœ€å¤§æŒç»­æ¬¡æ•°
post_reply_boost_decay_rate = 0.5 # æ¯æ¬¡å›å¤åé˜ˆå€¼é™ä½è¡°å‡ç‡ï¼ˆ0-1ï¼Œè¶Šå°è¡°å‡è¶Šå¿«ï¼‰

# ç»¼åˆè¯„åˆ†æƒé‡
keyword_match_weight = 0.5 # å…´è¶£å…³é”®è¯åŒ¹é…åº¦æƒé‡
mention_bot_weight = 0.3 # æåŠbotåˆ†æ•°æƒé‡
relationship_weight = 0.2 # äººç‰©å…³ç³»åˆ†æ•°æƒé‡

# æåŠbotç›¸å…³å‚æ•°
mention_bot_adjustment_threshold = 0.5 # æåŠbotåçš„è°ƒæ•´é˜ˆå€¼
# å¼ºæåŠï¼ˆè¢«@ã€è¢«å›å¤ã€ç§èŠï¼‰å’Œå¼±æåŠï¼ˆæ–‡æœ¬åŒ¹é…åå­—/åˆ«åï¼‰ä½¿ç”¨ä¸åŒåˆ†å€¼
strong_mention_interest_score = 2.0 # å¼ºæåŠçš„å…´è¶£åˆ†ï¼ˆè¢«@ã€è¢«å›å¤ã€ç§èŠï¼‰
weak_mention_interest_score = 0.8 # å¼±æåŠçš„å…´è¶£åˆ†ï¼ˆæ–‡æœ¬åŒ¹é…botåå­—æˆ–åˆ«åï¼‰
base_relationship_score = 0.3 # åŸºç¡€äººç‰©å…³ç³»åˆ†

[proactive_thinking] # ä¸»åŠ¨æ€è€ƒï¼ˆä¸»åŠ¨å‘èµ·å¯¹è¯ï¼‰åŠŸèƒ½é…ç½® - ç”¨äºç¾¤èŠå’Œç§èŠï¼ˆå½“KFCå…³é—­æ—¶ï¼‰
# è¯¦ç»†é…ç½®è¯´æ˜è¯·å‚è€ƒï¼šdocs/proactive_thinking_config_guide.md

# --- æ€»å¼€å…³ ---
enable = true # æ˜¯å¦å¯ç”¨ä¸»åŠ¨å‘èµ·å¯¹è¯åŠŸèƒ½

# --- é—´éš”é…ç½® ---
base_interval = 1800 # åŸºç¡€è§¦å‘é—´éš”ï¼ˆç§’ï¼‰ï¼Œé»˜è®¤30åˆ†é’Ÿ
min_interval = 600 # æœ€å°è§¦å‘é—´éš”ï¼ˆç§’ï¼‰ï¼Œé»˜è®¤10åˆ†é’Ÿã€‚å…´è¶£åˆ†æ•°é«˜æ—¶ä¼šæ¥è¿‘æ­¤å€¼
max_interval = 7200 # æœ€å¤§è§¦å‘é—´éš”ï¼ˆç§’ï¼‰ï¼Œé»˜è®¤2å°æ—¶ã€‚å…´è¶£åˆ†æ•°ä½æ—¶ä¼šæ¥è¿‘æ­¤å€¼

# --- åŠ¨æ€è°ƒæ•´é…ç½® ---
use_interest_score = true # æ˜¯å¦æ ¹æ®å…´è¶£åˆ†æ•°åŠ¨æ€è°ƒæ•´é—´éš”ã€‚å…³é—­åˆ™ä½¿ç”¨å›ºå®šbase_interval
interest_score_factor = 2.0 # å…´è¶£åˆ†æ•°å½±å“å› å­ã€‚å…¬å¼: interval = base * (factor - score)

# --- é»‘ç™½åå•é…ç½® ---
whitelist_mode = false # æ˜¯å¦å¯ç”¨ç™½åå•æ¨¡å¼ã€‚å¯ç”¨ååªå¯¹ç™½åå•ä¸­çš„èŠå¤©æµç”Ÿæ•ˆ
blacklist_mode = false # æ˜¯å¦å¯ç”¨é»‘åå•æ¨¡å¼ã€‚å¯ç”¨åæ’é™¤é»‘åå•ä¸­çš„èŠå¤©æµ

whitelist_private = [] # ç§èŠç™½åå•ï¼Œæ ¼å¼: ["qq:12345:private"]
whitelist_group = [] # ç¾¤èŠç™½åå•ï¼Œæ ¼å¼: ["qq:123456:group"]
blacklist_private = [] # ç§èŠé»‘åå•ï¼Œæ ¼å¼: ["qq:12345:private"]
blacklist_group = [] # ç¾¤èŠé»‘åå•ï¼Œæ ¼å¼: ["qq:999999:group"]

# --- å…´è¶£åˆ†æ•°é˜ˆå€¼ ---
min_interest_score = 0.0 # æœ€ä½å…´è¶£åˆ†æ•°é˜ˆå€¼ï¼Œä½äºæ­¤å€¼ä¸ä¼šä¸»åŠ¨æ€è€ƒ
max_interest_score = 1.0 # æœ€é«˜å…´è¶£åˆ†æ•°é˜ˆå€¼ï¼Œé«˜äºæ­¤å€¼ä¸ä¼šä¸»åŠ¨æ€è€ƒ

# --- æ—¶é—´ç­–ç•¥é…ç½® ---
enable_time_strategy = false # æ˜¯å¦å¯ç”¨æ—¶é—´ç­–ç•¥ï¼ˆæ ¹æ®æ—¶æ®µè°ƒæ•´é¢‘ç‡ï¼‰
quiet_hours_start = "00:00" # å®‰é™æ—¶æ®µå¼€å§‹æ—¶é—´ï¼Œæ ¼å¼: "HH:MM"
quiet_hours_end = "07:00" # å®‰é™æ—¶æ®µç»“æŸæ—¶é—´ï¼Œæ ¼å¼: "HH:MM"
active_hours_multiplier = 0.7 # æ´»è·ƒæ—¶æ®µé—´éš”å€æ•°ï¼Œ<1è¡¨ç¤ºæ›´é¢‘ç¹ï¼Œ>1è¡¨ç¤ºæ›´ç¨€ç–

# --- å†·å´ä¸é™åˆ¶ ---
reply_reset_enabled = true # botå›å¤åæ˜¯å¦é‡ç½®å®šæ—¶å™¨
topic_throw_cooldown = 3600 # æŠ›å‡ºè¯é¢˜åçš„å†·å´æ—¶é—´ï¼ˆç§’ï¼‰
max_daily_proactive = 0 # æ¯ä¸ªèŠå¤©æµæ¯å¤©æœ€å¤šä¸»åŠ¨å‘è¨€æ¬¡æ•°ï¼Œ0è¡¨ç¤ºä¸é™åˆ¶

# --- å†³ç­–æƒé‡é…ç½® ---
do_nothing_weight = 0.4 # do_nothingåŠ¨ä½œçš„åŸºç¡€æƒé‡
simple_bubble_weight = 0.3 # simple_bubbleåŠ¨ä½œçš„åŸºç¡€æƒé‡
throw_topic_weight = 0.3 # throw_topicåŠ¨ä½œçš„åŸºç¡€æƒé‡

# --- è°ƒè¯•ä¸ç›‘æ§ ---
enable_statistics = true # æ˜¯å¦å¯ç”¨ç»Ÿè®¡åŠŸèƒ½
log_decisions = false # æ˜¯å¦è®°å½•æ¯æ¬¡å†³ç­–çš„è¯¦ç»†æ—¥å¿—

# ==================== Kokoro Flow Chatter (å¿ƒæµèŠå¤©å™¨) é…ç½® ====================
# KFCæ˜¯ä¸“ä¸ºç§èŠè®¾è®¡çš„æ·±åº¦æƒ…æ„Ÿäº¤äº’å¤„ç†å™¨ã€‚
# æ³¨æ„ï¼šè¿™æ˜¯ä¸€ä¸ªå¯é€‰çš„èŠå¤©æ¨¡å¼ï¼Œå…³é—­åç§èŠå°†ç”±é»˜è®¤çš„AFCå¤„ç†ï¼ˆä½¿ç”¨ä¸Šé¢çš„proactive_thinkingé…ç½®ï¼‰ã€‚
# æ ¸å¿ƒç†å¿µï¼šKFCä¸æ˜¯ç‹¬ç«‹äººæ ¼ï¼Œå®ƒå¤ç”¨å…¨å±€çš„äººè®¾ã€æƒ…æ„Ÿæ¡†æ¶å’Œå›å¤æ¨¡å‹ã€‚

[kokoro_flow_chatter]
# --- æ€»å¼€å…³ ---
# å¼€å¯åï¼ŒKFCå°†æ¥ç®¡æ‰€æœ‰ç§èŠæ¶ˆæ¯ï¼›å…³é—­åï¼Œç§èŠæ¶ˆæ¯å°†ç”±AFCå¤„ç†ã€‚
enable = true

# --- å·¥ä½œæ¨¡å¼ ---
# å¯é€‰å€¼: "unified"ï¼ˆç»Ÿä¸€æ¨¡å¼ï¼‰æˆ– "split"ï¼ˆåˆ†ç¦»æ¨¡å¼ï¼‰
# unified: å•æ¬¡LLMè°ƒç”¨å®Œæˆæ€è€ƒå’Œå›å¤ç”Ÿæˆï¼Œç±»ä¼¼ä¼ ç»ŸèŠå¤©æ–¹å¼ï¼Œå“åº”æ›´å¿«
# split: Planner + Replyerä¸¤æ¬¡LLMè°ƒç”¨ï¼Œå…ˆè§„åˆ’å†ç”Ÿæˆå›å¤ï¼Œæ§åˆ¶æ›´ç²¾ç»†
mode = "split"

# --- æ ¸å¿ƒè¡Œä¸ºé…ç½® ---
max_wait_seconds_default = 300 # é»˜è®¤çš„æœ€å¤§ç­‰å¾…ç§’æ•°ï¼ˆAIå‘é€æ¶ˆæ¯åæ„¿æ„ç­‰å¾…ç”¨æˆ·å›å¤çš„æ—¶é—´ï¼‰
enable_continuous_thinking = true # æ˜¯å¦åœ¨ç­‰å¾…æœŸé—´å¯ç”¨å¿ƒç†æ´»åŠ¨æ›´æ–°

# --- ç§èŠä¸“å±ä¸»åŠ¨æ€è€ƒé…ç½® ---
# æ³¨æ„ï¼šè¿™æ˜¯KFCä¸“å±çš„ä¸»åŠ¨æ€è€ƒé…ç½®ï¼Œåªæœ‰å½“KFCå¯ç”¨æ—¶æ‰ç”Ÿæ•ˆã€‚
# å®ƒæ—¨åœ¨æ¨¡æ‹Ÿæ›´çœŸå®ã€æƒ…æ„Ÿé©±åŠ¨çš„äº’åŠ¨ï¼Œè€Œéç®€å•çš„å®šæ—¶ä»»åŠ¡ã€‚
# ã€Œä¸»åŠ¨æ€è€ƒã€æ˜¯ã€Œæƒ³ä¸€æƒ³è¦ä¸è¦è”ç³»å¯¹æ–¹ã€ï¼Œä¸æ˜¯ã€Œåˆ°æ—¶é—´å°±å‘æ¶ˆæ¯ã€ã€‚
# å¥¹å¯èƒ½å†³å®šè¯´äº›ä»€ä¹ˆï¼Œä¹Ÿå¯èƒ½å†³å®šã€Œç®—äº†ï¼Œä¸æ‰“æ‰°äº†ã€ã€‚
[kokoro_flow_chatter.proactive_thinking]
enabled = true # æ˜¯å¦å¯ç”¨KFCçš„ç§èŠä¸»åŠ¨æ€è€ƒã€‚

# 1. æ²‰é»˜è§¦å‘å™¨ï¼šå½“æ„Ÿåˆ°é•¿ä¹…çš„æ²‰é»˜æ—¶ï¼Œå¥¹å¯èƒ½ä¼šæƒ³è¯´äº›ä»€ä¹ˆã€‚
silence_threshold_seconds = 7200 # ç”¨æˆ·æ²‰é»˜è¶…è¿‡æ­¤æ—¶é•¿ï¼ˆç§’ï¼‰ï¼Œå¯èƒ½è§¦å‘ä¸»åŠ¨æ€è€ƒï¼ˆé»˜è®¤2å°æ—¶ï¼‰ã€‚

# 2. å…³ç³»é—¨æ§›ï¼šå¥¹ä¸ä¼šå¯¹ä¸ç†Ÿæ‚‰çš„äººè¿‡äºä¸»åŠ¨ã€‚
min_affinity_for_proactive = 0.3 # éœ€è¦è¾¾åˆ°æœ€ä½å¥½æ„Ÿåº¦ï¼Œå¥¹æ‰ä¼šå¼€å§‹ä¸»åŠ¨å…³å¿ƒã€‚

# 3. é¢‘ç‡å‘¼å¸ï¼šä¸ºäº†é¿å…æ‰“æ‰°ï¼Œå¥¹çš„å…³å¿ƒæ€»æ˜¯æœ‰é—´éš”çš„ã€‚
min_interval_between_proactive = 1800 # ä¸¤æ¬¡ä¸»åŠ¨æ€è€ƒä¹‹é—´çš„æœ€å°é—´éš”ï¼ˆç§’ï¼Œé»˜è®¤30åˆ†é’Ÿï¼‰ã€‚

# 4. å‹¿æ‰°æ—¶æ®µï¼šåœ¨è¿™ä¸ªæ—¶é—´èŒƒå›´å†…ï¼Œä¸ä¼šè§¦å‘ä¸»åŠ¨æ€è€ƒï¼ˆé¿å…æ·±å¤œæ‰“æ‰°ç”¨æˆ·ï¼‰ã€‚
# æ ¼å¼ä¸º "HH:MM"ï¼Œä½¿ç”¨24å°æ—¶åˆ¶ã€‚å¦‚æœ start > endï¼Œè¡¨ç¤ºè·¨è¶Šåˆå¤œï¼ˆå¦‚ 23:00 åˆ° 07:00ï¼‰ã€‚
quiet_hours_start = "23:00" # å‹¿æ‰°å¼€å§‹æ—¶é—´
quiet_hours_end = "07:00" # å‹¿æ‰°ç»“æŸæ—¶é—´

# 5. è§¦å‘æ¦‚ç‡ï¼šæ¯æ¬¡æ£€æŸ¥æ—¶ä¸»åŠ¨å‘èµ·çš„æ¦‚ç‡ï¼Œç”¨äºé¿å…è¿‡äºé¢‘ç¹æ‰“æ‰°ã€‚
trigger_probability = 0.3 # 0.0~1.0ï¼Œé»˜è®¤30%æ¦‚ç‡
